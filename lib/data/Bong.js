// Generated by CoffeeScript 1.7.1
(function() {
  window.cas.Bong = (function() {
    cas.HANDSTROKE = -1;

    cas.BACKSTROKE = +1;

    cas.UNKNOWNSTROKE = 0;

    function Bong(bell, time, stroke) {
      this.bell = bell;
      this.time = time;
      this.stroke = stroke;
    }

    Bong.prototype.swapStroke = function() {
      this.stroke = -stroke;
      return this["this"];
    };

    Bong.prototype.equals = function(other) {
      return this.bell === other.bell;
    };

    Bong.prototype.compareTo = function(other) {
      if (this.time < other.time) {
        return -1;
      }
      if (this.time > other.time) {
        return +1;
      }
      return 0;
    };

    Bong.prototype.toString = function() {
      return "" + this.bell + " " + this.time + " " + (this.stroke === HANDSTROKE ? 'H' : this.stroke === BACKSTROKE ? 'B' : void 0);
    };

    Bong.fromString = function(s) {
      var b, i, j, stroke, t;
      i = s.indexOf(" ");
      if (i < 0) {
        throw new Error("Bad bong: " + s);
      }
      b = s.substring(0, i).trim();
      t = s.substring(i + 1).trim();
      stroke = cas.UNKNOWNSTROKE;
      j = s.indexOf(" ", i + 1);
      if (j > 0) {
        t = s.substring(i + 1, j).trim();
        if (s.substring(j + 1).equals("H")) {
          stroke = cas.HANDSTROKE;
        } else if (s.substring(j + 1).equals("B")) {
          stroke = cas.BACKSTROKE;
        }
      }
      return new cas.Bong(parseInt(b), parseInt(t), stroke);
    };

    return Bong;

  })();

}).call(this);
